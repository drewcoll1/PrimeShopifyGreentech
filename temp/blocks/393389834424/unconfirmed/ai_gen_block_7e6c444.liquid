{% doc %}
  @prompt
    ok i need a place to showcase my collections in cards, please have them be clickable with a title and description, I need to have room for 9 different collections there should be 3 in each row, ok i need to be able to put my own description for each collection as well as customize the images, not all collections are going to be used at the moment so only have the option for the to be toggled dissapeared, ok great now i need to be able to manipulate the horizontal position on every type of media, i need to be able to manipulate the horizontal position of the entire section for desktop, mobile, and full screen and all inbetween, the cards need to allow more height for the images to fit

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-collection-showcase-{{ ai_gen_id }} {
    padding: {{ block.settings.section_padding }}px 0;
  }

  .ai-collection-showcase__container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    transform: translateX({{ block.settings.desktop_horizontal_position | minus: 50 | times: 2 }}%);
  }

  .ai-collection-showcase__header-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: 40px;
  }

  .ai-collection-showcase__title-{{ ai_gen_id }} {
    color: {{ block.settings.heading_color }};
    margin: 0 0 16px;
    font-size: {{ block.settings.heading_size }}px;
  }

  .ai-collection-showcase__subtitle-{{ ai_gen_id }} {
    color: {{ block.settings.text_color }};
    margin: 0;
    font-size: {{ block.settings.subtitle_size }}px;
  }

  .ai-collection-showcase__grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: {{ block.settings.card_spacing }}px;
    margin-top: 32px;
  }

  .ai-collection-card-{{ ai_gen_id }} {
    background-color: {{ block.settings.card_background }};
    border-radius: {{ block.settings.card_border_radius }}px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    border: {{ block.settings.card_border_width }}px solid {{ block.settings.card_border_color }};
    height: 100%;
  }

  .ai-collection-card-{{ ai_gen_id }}:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  .ai-collection-card__image-wrapper-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    height: {{ block.settings.image_height }}px;
    overflow: hidden;
    flex-shrink: 0;
  }

  .ai-collection-card__image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .ai-collection-card-{{ ai_gen_id }}:hover .ai-collection-card__image-{{ ai_gen_id }} {
    transform: scale(1.05);
  }

  .ai-collection-card__placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .ai-collection-card__placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-collection-card__empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 16px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px;
    color: #666;
    text-align: center;
    padding: 8px 12px;
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 4px;
    white-space: nowrap;
  }

  .ai-collection-card__content-{{ ai_gen_id }} {
    padding: {{ block.settings.card_padding }}px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }

  .ai-collection-card__title-{{ ai_gen_id }} {
    color: {{ block.settings.card_title_color }};
    margin: 0 0 12px;
    font-size: {{ block.settings.card_title_size }}px;
    font-weight: 600;
    line-height: 1.3;
  }

  .ai-collection-card__description-{{ ai_gen_id }} {
    color: {{ block.settings.card_text_color }};
    margin: 0;
    font-size: {{ block.settings.card_text_size }}px;
    line-height: 1.5;
    flex-grow: 1;
  }

  .ai-collection-card__product-count-{{ ai_gen_id }} {
    color: {{ block.settings.card_meta_color }};
    font-size: {{ block.settings.card_text_size | minus: 2 }}px;
    margin-top: 8px;
    opacity: 0.8;
  }

  {% for i in (1..9) %}
    {% liquid
      assign position_key = 'collection_' | append: i | append: '_image_position'
      assign image_position = block.settings[position_key]
    %}
    .ai-collection-card-{{ ai_gen_id }}-{{ i }} .ai-collection-card__image-{{ ai_gen_id }} {
      object-position: {{ image_position }}% center;
    }
  {% endfor %}

  @media screen and (min-width: 1400px) {
    .ai-collection-showcase__container-{{ ai_gen_id }} {
      transform: translateX({{ block.settings.fullscreen_horizontal_position | minus: 50 | times: 2 }}%);
    }
  }

  @media screen and (max-width: 990px) {
    .ai-collection-showcase__grid-{{ ai_gen_id }} {
      grid-template-columns: repeat(2, 1fr);
    }

    .ai-collection-showcase__container-{{ ai_gen_id }} {
      transform: translateX({{ block.settings.tablet_horizontal_position | minus: 50 | times: 2 }}%);
    }

    .ai-collection-card__image-wrapper-{{ ai_gen_id }} {
      height: {{ block.settings.image_height | times: 0.9 }}px;
    }
  }

  @media screen and (max-width: 749px) {
    .ai-collection-showcase__grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: {{ block.settings.card_spacing | times: 0.75 }}px;
    }

    .ai-collection-card__image-wrapper-{{ ai_gen_id }} {
      height: {{ block.settings.image_height | times: 0.8 }}px;
    }

    .ai-collection-showcase__title-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.8 }}px;
    }

    .ai-collection-showcase__container-{{ ai_gen_id }} {
      transform: translateX({{ block.settings.mobile_horizontal_position | minus: 50 | times: 2 }}%);
    }
  }
{% endstyle %}

<div class="ai-collection-showcase-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-collection-showcase__container-{{ ai_gen_id }}">
    {% if block.settings.heading != blank %}
      <div class="ai-collection-showcase__header-{{ ai_gen_id }}">
        <h2 class="ai-collection-showcase__title-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
        {% if block.settings.subtitle != blank %}
          <p class="ai-collection-showcase__subtitle-{{ ai_gen_id }}">{{ block.settings.subtitle }}</p>
        {% endif %}
      </div>
    {% endif %}

    <div class="ai-collection-showcase__grid-{{ ai_gen_id }}">
      {% for i in (1..9) %}
        {% liquid
          assign enabled_key = 'collection_' | append: i | append: '_enabled'
          assign collection_key = 'collection_' | append: i
          assign title_key = 'collection_' | append: i | append: '_title'
          assign description_key = 'collection_' | append: i | append: '_description'
          assign image_key = 'collection_' | append: i | append: '_image'
          
          assign collection_enabled = block.settings[enabled_key]
          assign collection = block.settings[collection_key]
          assign custom_title = block.settings[title_key]
          assign custom_description = block.settings[description_key]
          assign custom_image = block.settings[image_key]
        %}

        {% if collection_enabled %}
          {% if collection != blank %}
            <a href="{{ collection.url }}" class="ai-collection-card-{{ ai_gen_id }} ai-collection-card-{{ ai_gen_id }}-{{ i }}">
              <div class="ai-collection-card__image-wrapper-{{ ai_gen_id }}">
                {% if custom_image %}
                  <img
                    src="{{ custom_image | image_url: width: 600 }}"
                    alt="{{ custom_image.alt | escape }}"
                    class="ai-collection-card__image-{{ ai_gen_id }}"loading="lazy"
                    width="600"
                    height="{{ block.settings.image_height }}"
                  >
                {% elsif collection.featured_image %}
                  <img
                    src="{{ collection.featured_image | image_url: width: 600 }}"
                    alt="{{ collection.featured_image.alt | escape }}"
                    class="ai-collection-card__image-{{ ai_gen_id }}"
                    loading="lazy"
                    width="600"
                    height="{{ block.settings.image_height }}"
                  >
                {% else %}
                  <div class="ai-collection-card__placeholder-{{ ai_gen_id }}">
                    {{ 'collection-1' | placeholder_svg_tag }}
                  </div>
                {% endif %}
              </div>
              <div class="ai-collection-card__content-{{ ai_gen_id }}">
                <h3 class="ai-collection-card__title-{{ ai_gen_id }}">
                  {% if custom_title != blank %}
                    {{ custom_title }}
                  {% else %}
                    {{ collection.title }}
                  {% endif %}
                </h3>
                {% if custom_description != blank %}
                  <p class="ai-collection-card__description-{{ ai_gen_id }}">{{ custom_description | strip_html }}</p>
                {% elsif collection.description != blank %}
                  <p class="ai-collection-card__description-{{ ai_gen_id }}">{{ collection.description | strip_html }}</p>
                {% endif %}
                {% if block.settings.show_product_count %}
                  <div class="ai-collection-card__product-count-{{ ai_gen_id }}">
                    {{ collection.products_count }}
                    {% if collection.products_count == 1 %}
                      product
                    {% else %}
                      products
                    {% endif %}
                  </div>
                {% endif %}
              </div>
            </a>
          {% else %}
            <div class="ai-collection-card-{{ ai_gen_id }} ai-collection-card-{{ ai_gen_id }}-{{ i }}">
              <div class="ai-collection-card__image-wrapper-{{ ai_gen_id }}">
                {% if custom_image %}
                  <img
                    src="{{ custom_image | image_url: width: 600 }}"
                    alt="{{ custom_image.alt | escape }}"
                    class="ai-collection-card__image-{{ ai_gen_id }}"
                    loading="lazy"
                    width="600"
                    height="{{ block.settings.image_height }}"
                  >
                {% else %}
                  <div class="ai-collection-card__placeholder-{{ ai_gen_id }}">
                    {{ 'collection-1' | placeholder_svg_tag }}
                    <div class="ai-collection-card__empty-state-{{ ai_gen_id }}">
                      Add collection {{ i }}
                    </div>
                  </div>
                {% endif %}
              </div>
              <div class="ai-collection-card__content-{{ ai_gen_id }}">
                <h3 class="ai-collection-card__title-{{ ai_gen_id }}">
                  {% if custom_title != blank %}
                    {{ custom_title }}
                  {% else %}
                    Collection {{ i }}
                  {% endif %}
                </h3>
                {% if custom_description != blank %}
                  <p class="ai-collection-card__description-{{ ai_gen_id }}">{{ custom_description | strip_html }}</p>
                {% else %}
                  <p class="ai-collection-card__description-{{ ai_gen_id }}">Add a description for your collection to help customers understand what products are included.</p>
                {% endif %}
                {% if block.settings.show_product_count %}
                  <div class="ai-collection-card__product-count-{{ ai_gen_id }}">0 products</div>
                {% endif %}
              </div>
            </div>
          {% endif %}
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Collection showcase",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Shop by Collection"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Discover our curated collections"
    },
    {
      "type": "checkbox",
      "id": "show_product_count",
      "label": "Show product count",
      "default": true
    },
    {
      "type": "header",
      "content": "Section positioning"
    },
    {
      "type": "range",
      "id": "fullscreen_horizontal_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Fullscreen horizontal position",
      "default": 50
    },
    {
      "type": "range",
      "id": "desktop_horizontal_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Desktop horizontal position",
      "default": 50
    },
    {
      "type": "range",
      "id": "tablet_horizontal_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Tablet horizontal position",
      "default": 50
    },
    {
      "type": "range",
      "id": "mobile_horizontal_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Mobile horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 1"
    },
    {
      "type": "checkbox",
      "id": "collection_1_enabled",
      "label": "Enable collection 1",
      "default": true
    },
    {
      "type": "collection",
      "id": "collection_1",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_1_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_1_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_1_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_1_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 2"
    },
    {
      "type": "checkbox",
      "id": "collection_2_enabled",
      "label": "Enable collection 2",
      "default": true
    },
    {
      "type": "collection",
      "id": "collection_2",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_2_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_2_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_2_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_2_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 3"
    },
    {
      "type": "checkbox",
      "id": "collection_3_enabled",
      "label": "Enable collection 3",
      "default": true
    },
    {
      "type": "collection",
      "id": "collection_3",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_3_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_3_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_3_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_3_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 4"
    },
    {
      "type": "checkbox",
      "id": "collection_4_enabled",
      "label": "Enable collection 4",
      "default": false
    },
    {
      "type": "collection",
      "id": "collection_4",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_4_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_4_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_4_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_4_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 5"
    },
    {
      "type": "checkbox",
      "id": "collection_5_enabled",
      "label": "Enable collection 5",
      "default": false
    },
    {
      "type": "collection",
      "id": "collection_5",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_5_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_5_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_5_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_5_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 6"
    },
    {
      "type": "checkbox",
      "id": "collection_6_enabled",
      "label": "Enable collection 6",
      "default": false
    },
    {
      "type": "collection",
      "id": "collection_6",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_6_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_6_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_6_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_6_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 7"
    },
    {
      "type": "checkbox",
      "id": "collection_7_enabled",
      "label": "Enable collection 7",
      "default": false
    },
    {
      "type": "collection",
      "id": "collection_7",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_7_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_7_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_7_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_7_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 8"
    },
    {
      "type": "checkbox",
      "id": "collection_8_enabled",
      "label": "Enable collection 8",
      "default": false
    },
    {
      "type": "collection",
      "id": "collection_8",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_8_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_8_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_8_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_8_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Collection 9"
    },
    {
      "type": "checkbox",
      "id": "collection_9_enabled",
      "label": "Enable collection 9",
      "default": false
    },
    {
      "type": "collection",
      "id": "collection_9",
      "label": "Collection"
    },
    {
      "type": "text",
      "id": "collection_9_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_9_description",
      "label": "Custom description"
    },
    {
      "type": "image_picker",
      "id": "collection_9_image",
      "label": "Custom image"
    },
    {
      "type": "range",
      "id": "collection_9_image_position",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Image horizontal position",
      "default": 50
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Section padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "card_spacing",
      "min": 8,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "Card spacing",
      "default": 24
    },
    {
      "type": "range",
      "id": "image_height",
      "min": 200,
      "max": 500,
      "step": 10,
      "unit": "px",
      "label": "Image height",
      "default": 320
    },
    {
      "type": "range",
      "id": "card_padding",
      "min": 12,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "Card padding",
      "default": 24
    },
    {
      "type": "header",
      "content": "Card style"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card background",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Card border radius",
      "default": 12
    },
    {
      "type": "range",
      "id": "card_border_width",
      "min": 0,
      "max": 4,
      "step": 1,
      "unit": "px",
      "label": "Card border width",
      "default": 0
    },
    {
      "type": "color",
      "id": "card_border_color",
      "label": "Card border color",
      "default": "#e6e6e6"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 36
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Subtitle size",
      "default": 16
    },
    {
      "type": "color",
      "id": "card_title_color",
      "label": "Card title color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "card_title_size",
      "min": 14,
      "max": 28,
      "step": 1,
      "unit": "px",
      "label": "Card title size",
      "default": 20
    },
    {
      "type": "color",
      "id": "card_text_color",
      "label": "Card text color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "card_text_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Card text size",
      "default": 14
    },
    {
      "type": "color",
      "id": "card_meta_color",
      "label": "Card meta color",
      "default": "#999999"
    }
  ],
  "presets": [
    {
      "name": "Collection showcase"
    }
  ]
}
{% endschema %}