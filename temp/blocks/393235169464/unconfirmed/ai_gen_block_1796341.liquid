{% doc %}
  @prompt
    ok I want a display section for my collections, I want there to be cards for each collection all of them should be on the page, everything needs to be centered on the page, ok good i like this let me pick the images, also lets make it so there is a description below collection name, ok good please have the images contain not fill, there should be white space around the image for the areas it does not cover, ok cool add the option for another card to be added if needed, i need it to go 3 in each line horizontally, ok I want a display section for my collections, I want there to be cards for each collection all of them should be on the page, ok good i like this let me pick the images, also lets make it so there is a description below collection name, ok good please have the images contain not fill, there should be white space around the image for the areas it does not cover, ok cool add the option for another card to be added if needed, ok great please make sure that all of this section is centered on the page, please give me the option to move the entire section left and right as much as i want, please make all the collection cards the same size

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-collections-display-{{ ai_gen_id }} {
    padding: {{ block.settings.section_padding }}px 20px;
    background-color: {{ block.settings.background_color }};
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: auto;
    transform: translateX({{ block.settings.horizontal_offset }}px);
  }

  .ai-collections-container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    text-align: center;
    width: 100%;
  }

  .ai-collections-heading-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: {{ block.settings.heading_spacing }}px;
    color: {{ block.settings.heading_color }};
    font-size: {{ block.settings.heading_size }}px;
  }

  .ai-collections-grid-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: {{ block.settings.grid_gap }}px;
    justify-content: center;
    align-items: stretch;
    max-width: 900px;
    margin: 0 auto;
  }

  .ai-collection-card-{{ ai_gen_id }} {
    background-color: {{ block.settings.card_background }};
    border-radius: {{ block.settings.card_border_radius }}px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    width: 100%;
    height: 100%;
    min-height: {{ block.settings.card_min_height }}px;
  }

  .ai-collection-card-{{ ai_gen_id }}:hover {
    transform: translateY(-{{ block.settings.hover_lift }}px);
    box-shadow: 0 {{ block.settings.hover_shadow }}px {{ block.settings.hover_shadow | times: 2 }}px rgba(0, 0, 0, 0.15);
  }

  .ai-collection-image-wrapper-{{ ai_gen_id }} {
    position: relative;
    width: 100%;
    height: {{ block.settings.image_height }}px;
    background-color: {{ block.settings.image_background_color }};
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    flex-shrink: 0;
  }

  .ai-collection-image-{{ ai_gen_id }} {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
  }

  .ai-collection-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-collection-image-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;opacity: 0.3;
  }

  .ai-collection-content-{{ ai_gen_id }} {
    padding: {{ block.settings.card_padding }}px;
    text-align: center;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    justify-content: space-between;
  }

  .ai-collection-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.title_size }}px;
    font-weight: {{ block.settings.title_weight }};
    margin: 0 0 {{ block.settings.title_spacing }}px 0;
    color: {{ block.settings.title_color }};line-height: 1.3;
  }

  .ai-collection-description-{{ ai_gen_id }} {
    font-size: {{ block.settings.description_size }}px;
    color: {{ block.settings.description_color }};
    margin: 0 0 {{ block.settings.description_spacing }}px 0;
    line-height: 1.5;
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-collection-product-count-{{ ai_gen_id }} {
    font-size: {{ block.settings.count_size }}px;
    color: {{ block.settings.count_color }};
    margin: 0;
    margin-top: auto;
  }

  .ai-empty-state-{{ ai_gen_id }} {
    text-align: center;
    padding: 60px 20px;
    color: #666;
    margin: 0 auto;
  }

  .ai-empty-state-{{ ai_gen_id }} h3 {
    font-size: 24px;
    margin-bottom: 10px;
  }

  .ai-empty-state-{{ ai_gen_id }} p {
    font-size: 16px;
    margin: 0;
  }

  @media screen and (max-width: 768px) {
    .ai-collections-display-{{ ai_gen_id }} {
      transform: translateX({{ block.settings.horizontal_offset | times: 0.5 }}px);
    }

    .ai-collections-grid-{{ ai_gen_id }} {
      grid-template-columns: repeat({{ block.settings.columns_mobile }}, 1fr);
      max-width: 600px;
    }

    .ai-collection-image-wrapper-{{ ai_gen_id }} {
      height: {{ block.settings.image_height | times: 0.8 }}px;
    }

    .ai-collection-content-{{ ai_gen_id }} {
      padding: {{ block.settings.card_padding | times: 0.8 }}px;
    }

    .ai-collection-card-{{ ai_gen_id }} {
      min-height: {{ block.settings.card_min_height | times: 0.9 }}px;
    }
  }

  @media screen and (max-width: 480px) {
    .ai-collections-display-{{ ai_gen_id }} {
      transform: translateX({{ block.settings.horizontal_offset | times: 0.3 }}px);
    }

    .ai-collections-grid-{{ ai_gen_id }} {
      grid-template-columns:1fr;
      max-width: 280px;
    }

    .ai-collection-card-{{ ai_gen_id }} {
      min-height: {{ block.settings.card_min_height | times: 0.8 }}px;
    }
  }
{% endstyle %}<div class="ai-collections-display-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-collections-container-{{ ai_gen_id }}">
    {% if block.settings.heading != blank %}
      <h2 class="ai-collections-heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
    {% endif %}

    {% assign has_collections = false %}
    {% for i in (1..12) %}
      {% liquid
        assign collection_key = 'collection_' | append: i
        assign image_key = 'collection_' | append: i | append: '_image'
        assign title_key = 'collection_' | append: i | append: '_title'
        assign description_key = 'collection_' | append: i | append: '_description'
        assign url_key = 'collection_' | append: i | append: '_url'

        assign collection = block.settings[collection_key]
        assign custom_image = block.settings[image_key]
        assign custom_title = block.settings[title_key]
        assign custom_description = block.settings[description_key]
        assign custom_url = block.settings[url_key]%}

      {% if collection != blank or custom_title != blank %}
        {% assign has_collections = true %}
        {% break %}
      {% endif %}
    {% endfor %}

    {% if has_collections %}
      <div class="ai-collections-grid-{{ ai_gen_id }}">
        {% for i in (1..12) %}
          {% liquid
            assign collection_key = 'collection_' | append: i
            assign image_key = 'collection_' | append: i | append: '_image'
            assign title_key = 'collection_' | append: i | append: '_title'
            assign description_key = 'collection_' | append: i | append: '_description'
            assign url_key = 'collection_' | append: i | append: '_url'

            assign collection = block.settings[collection_key]
            assign custom_image = block.settings[image_key]
            assign custom_title = block.settings[title_key]
            assign custom_description = block.settings[description_key]
            assign custom_url = block.settings[url_key]
          %}

          {% if collection != blank or custom_title != blank %}
            <a 
              href="{% if custom_url != blank %}{{ custom_url }}{% elsif collection != blank %}{{ collection.url }}{% else %}#{% endif %}" 
              class="ai-collection-card-{{ ai_gen_id }}"
            >
              <div class="ai-collection-image-wrapper-{{ ai_gen_id }}">
                {% liquid
                  assign display_image = custom_image
                  if display_image == blank and collection != blank
                    assign display_image = collection.featured_image
                  endif
                %}

                {% if display_image %}<img
                    src="{{ display_image | image_url: width: 600}}"
                    alt="{{ display_image.alt | escape }}"
                    class="ai-collection-image-{{ ai_gen_id }}"
                    loading="lazy"
                    width="600"
                    height="{{ block.settings.image_height }}"
                  >
                {% else %}
                  <div class="ai-collection-image-placeholder-{{ ai_gen_id }}">
                    {{ 'collection-1' | placeholder_svg_tag }}
                  </div>
                {% endif %}
              </div>

              <div class="ai-collection-content-{{ ai_gen_id }}">
                <div>
                  <h3 class="ai-collection-title-{{ ai_gen_id }}">
                    {% if custom_title != blank %}
                      {{ custom_title }}
                    {% elsif collection != blank %}
                      {{ collection.title }}
                    {% else %}
                      Collection Title
                    {% endif %}
                  </h3>

                  <div class="ai-collection-description-{{ ai_gen_id }}">
                    {% if custom_description != blank %}
                      {{ custom_description }}
                    {% elsif collection != blank and collection.description != blank %}
                      {% assign description_limit = block.settings.description_length %}
                      {{ collection.description | strip_html | truncate: description_limit }}
                    {% else %}
                      Add a description for this collection to help customers understand what they'll find here.
                    {% endif %}
                  </div>
                </div>

                {% if block.settings.show_product_count and collection != blank %}
                  <p class="ai-collection-product-count-{{ ai_gen_id }}">
                    {{ collection.products_count }}{% if collection.products_count == 1 %}
                      product
                    {% else %}
                      products
                    {% endif %}
                  </p>
                {% endif %}
              </div>
            </a>
          {% endif %}
        {% endfor %}
      </div>
    {% else %}
      <div class="ai-empty-state-{{ ai_gen_id }}">
        <h3>Ready to showcase your collections?</h3>
        <p>Start by selecting your first collection or creating a custom card in the block settings.</p>
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Collections display",
  "settings": [
    {
      "type": "header",
      "content": "General"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Shop Collections"
    },
    {
      "type": "range",
      "id": "section_padding",
      "label": "Section padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "horizontal_offset",
      "label": "Horizontal position",
      "min": -500,
      "max": 500,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "grid_gap",
      "label": "Grid gap",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "default": 20
    },
    {
      "type": "select",
      "id": "columns_mobile",
      "label": "Columns on mobile",
      "options": [
        {
          "value": "1",
          "label": "1"
        },
        {
          "value": "2",
          "label": "2"
        }
      ],
      "default": "1"
    },
    {
      "type": "header",
      "content": "Card style"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card background",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "label": "Card border radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "range",
      "id": "card_padding",
      "label": "Card padding",
      "min": 10,
      "max": 40,
      "step": 5,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "card_min_height",
      "label": "Card minimum height",
      "min": 300,
      "max": 600,
      "step": 25,
      "unit": "px",
      "default": 400
    },
    {
      "type": "range",
      "id": "hover_lift",
      "label": "Hover lift effect",
      "min": 0,
      "max": 10,
      "step": 1,
      "unit": "px",
      "default": 4
    },
    {
      "type": "range",
      "id": "hover_shadow",
      "label": "Hover shadow",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "default": 8
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "range",
      "id": "image_height",
      "label": "Image height",
      "min": 150,
      "max": 400,
      "step": 25,
      "unit": "px",
      "default": 250
    },
    {
      "type": "color",
      "id": "image_background_color",
      "label": "Image background color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "range",
      "id": "description_length",
      "label": "Description length",
      "min": 50,
      "max": 200,
      "step": 25,
      "default": 100
    },
    {
      "type": "checkbox",
      "id": "show_product_count",
      "label": "Show product count",
      "default": true
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#f9f9f9"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "count_color",
      "label": "Product count color",
      "default": "#999999"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading size",
      "min": 20,
      "max": 60,
      "step": 4,
      "unit": "px",
      "default": 32
    },
    {
      "type": "range",
      "id": "heading_spacing",
      "label": "Heading spacing",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "range",
      "id": "title_size",
      "label": "Title size",
      "min": 14,
      "max": 28,
      "step": 2,
      "unit": "px",
      "default": 20
    },
    {
      "type": "select",
      "id": "title_weight",
      "label": "Title weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semibold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "range",
      "id": "title_spacing",
      "label": "Title spacing",
      "min": 5,
      "max": 25,
      "step": 5,
      "unit": "px",
      "default": 10
    },
    {
      "type": "range",
      "id": "description_size",
      "label": "Description size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "range",
      "id": "description_spacing",
      "label": "Description spacing",
      "min": 5,
      "max": 25,
      "step": 5,
      "unit": "px",
      "default": 10
    },
    {
      "type": "range",
      "id": "count_size",
      "label": "Product count size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "header",
      "content": "Collection1"
    },
    {
      "type": "collection",
      "id": "collection_1",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_1_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_1_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_1_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_1_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 2"
    },
    {
      "type": "collection",
      "id": "collection_2",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_2_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_2_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_2_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_2_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 3"
    },
    {
      "type": "collection",
      "id": "collection_3",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_3_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_3_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_3_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_3_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 4"
    },
    {
      "type": "collection",
      "id": "collection_4",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_4_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_4_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_4_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_4_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 5"
    },
    {
      "type": "collection",
      "id": "collection_5",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_5_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_5_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_5_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_5_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 6"
    },
    {
      "type": "collection",
      "id": "collection_6",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_6_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_6_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_6_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_6_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 7"
    },
    {
      "type": "collection",
      "id": "collection_7",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_7_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_7_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_7_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_7_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 8"
    },
    {
      "type": "collection",
      "id": "collection_8",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_8_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_8_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_8_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_8_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 9"
    },
    {
      "type": "collection",
      "id": "collection_9",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_9_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_9_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_9_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_9_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 10"
    },
    {
      "type": "collection",
      "id": "collection_10",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_10_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_10_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_10_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_10_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 11"
    },
    {
      "type": "collection",
      "id": "collection_11",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_11_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_11_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_11_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_11_url",
      "label": "Custom URL"
    },
    {
      "type": "header",
      "content": "Collection 12"
    },
    {
      "type": "collection",
      "id": "collection_12",
      "label": "Collection"
    },
    {
      "type": "image_picker",
      "id": "collection_12_image",
      "label": "Custom image"
    },
    {
      "type": "text",
      "id": "collection_12_title",
      "label": "Custom title"
    },
    {
      "type": "textarea",
      "id": "collection_12_description",
      "label": "Custom description"
    },
    {
      "type": "url",
      "id": "collection_12_url",
      "label": "Custom URL"
    }
  ],
  "presets": [
    {
      "name": "Collections display"
    }
  ]
}
{% endschema %}